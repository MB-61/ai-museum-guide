<!DOCTYPE html>
<html lang="tr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KonuÅŸan Avatar - TalkingHead</title>
    <link rel="stylesheet" href="style.css">

    <script type="importmap">
  { 
    "imports": {
      "three": "https://cdn.jsdelivr.net/npm/three@0.180.0/build/three.module.js/+esm",
      "three/addons/": "https://cdn.jsdelivr.net/npm/three@0.180.0/examples/jsm/",
      "talkinghead": "https://cdn.jsdelivr.net/gh/met4citizen/TalkingHead@1.7/modules/talkinghead.mjs"
    }
  }
  </script>
</head>

<body>
    <!-- Avatar Container -->
    <div id="avatar-container">
        <div id="avatar"></div>
        <div id="loading">
            <div class="spinner"></div>
            <span id="loading-text">Avatar yÃ¼kleniyor...</span>
        </div>
    </div>

    <!-- Control Panel -->
    <div id="controls">
        <h1>ğŸ­ KonuÅŸan Avatar</h1>

        <!-- Status -->
        <div class="status-section">
            <div id="status" class="status connected">âœ… Web Speech API HazÄ±r</div>
        </div>

        <!-- Text Input -->
        <div class="text-section">
            <h3>ğŸ’¬ Metin Girin</h3>
            <textarea id="text-input"
                placeholder="Avatar'Ä±n sÃ¶ylemesini istediÄŸiniz metni yazÄ±n...">Merhaba! Ben bir 3D konuÅŸan avatarÄ±m. Bana herhangi bir ÅŸey sÃ¶yleyebilirsiniz ve ben onu TÃ¼rkÃ§e olarak seslendiririm.</textarea>
            <div class="button-row">
                <button id="speak-btn" class="btn btn-success">ğŸ¤ KonuÅŸ</button>
                <button id="stop-btn" class="btn btn-danger" disabled>â¹ï¸ Durdur</button>
            </div>
        </div>

        <!-- Voice Settings -->
        <div class="voice-section">
            <h3>ğŸµ Ses AyarlarÄ±</h3>
            <div class="input-group">
                <label for="voice-select">Ses SeÃ§in:</label>
                <select id="voice-select">
                    <option value="">YÃ¼kleniyor...</option>
                </select>
            </div>
            <div class="input-group">
                <label for="rate-slider">HÄ±z: <span id="rate-value">1.0</span></label>
                <input type="range" id="rate-slider" min="0.5" max="2" step="0.1" value="1">
            </div>
            <div class="input-group">
                <label for="pitch-slider">Ton: <span id="pitch-value">1.0</span></label>
                <input type="range" id="pitch-slider" min="0.5" max="2" step="0.1" value="1">
            </div>
            <div class="input-group">
                <label for="volume-slider">Ses: <span id="volume-value">1.0</span></label>
                <input type="range" id="volume-slider" min="0" max="1" step="0.1" value="1">
            </div>
        </div>

        <!-- Mood Settings -->
        <div class="mood-section">
            <h3>ğŸ˜Š Ruh Hali</h3>
            <div class="mood-buttons">
                <button class="mood-btn" data-mood="neutral">ğŸ˜ Normal</button>
                <button class="mood-btn" data-mood="happy">ğŸ˜Š Mutlu</button>
                <button class="mood-btn" data-mood="sad">ğŸ˜¢ ÃœzgÃ¼n</button>
                <button class="mood-btn" data-mood="angry">ğŸ˜  KÄ±zgÄ±n</button>
                <button class="mood-btn" data-mood="fear">ğŸ˜¨ KorkmuÅŸ</button>
                <button class="mood-btn" data-mood="love">ğŸ˜ AÅŸÄ±k</button>
            </div>
        </div>

        <!-- Quick Phrases -->
        <div class="phrases-section">
            <h3>âš¡ HÄ±zlÄ± Ä°fadeler</h3>
            <div class="phrase-buttons">
                <button class="phrase-btn" data-text="Merhaba, nasÄ±lsÄ±nÄ±z?">SelamlaÅŸma</button>
                <button class="phrase-btn" data-text="BugÃ¼n hava Ã§ok gÃ¼zel, deÄŸil mi?">Hava Durumu</button>
                <button class="phrase-btn" data-text="Size nasÄ±l yardÄ±mcÄ± olabilirim?">YardÄ±m</button>
                <button class="phrase-btn" data-text="GÃ¶rÃ¼ÅŸmek Ã¼zere, hoÅŸÃ§a kalÄ±n!">VedalaÅŸma</button>
            </div>
        </div>

        <!-- Camera Controls -->
        <div class="camera-section">
            <h3>ğŸ“· Kamera GÃ¶rÃ¼nÃ¼mÃ¼</h3>
            <div class="camera-buttons">
                <button class="camera-btn" data-view="full">Tam Boy</button>
                <button class="camera-btn active" data-view="upper">Ãœst VÃ¼cut</button>
                <button class="camera-btn" data-view="head">YÃ¼z</button>
            </div>
        </div>
    </div>

    <script type="module" src="app.js"></script>
</body>

</html>